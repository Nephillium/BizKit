{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/hooks/useAuth.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react'\n\nexport interface User {\n  id: string\n  email: string\n  role: 'user' | 'admin'\n  credits: number\n  usageCount?: number\n}\n\ninterface AuthState {\n  user: User | null\n  isLoading: boolean\n  isAuthenticated: boolean\n}\n\ninterface AuthActions {\n  login: (email: string, password: string) => Promise<{ ok: boolean; error?: string }>\n  register: (email: string, password: string) => Promise<{ ok: boolean; error?: string }>\n  logout: () => Promise<void>\n  refresh: () => Promise<void>\n}\n\nexport function useAuth(): AuthState & AuthActions {\n  const [state, setState] = useState<AuthState>({\n    user: null,\n    isLoading: true,\n    isAuthenticated: false,\n  })\n\n  const fetchUser = useCallback(async () => {\n    try {\n      const response = await fetch('/api/auth/me', {\n        credentials: 'include',\n      })\n      if (response.ok) {\n        const data = await response.json()\n        if (data.ok && data.user) {\n          setState({\n            user: data.user,\n            isLoading: false,\n            isAuthenticated: true,\n          })\n        } else {\n          setState({\n            user: null,\n            isLoading: false,\n            isAuthenticated: false,\n          })\n        }\n      } else {\n        setState({\n          user: null,\n          isLoading: false,\n          isAuthenticated: false,\n        })\n      }\n    } catch {\n      setState({\n        user: null,\n        isLoading: false,\n        isAuthenticated: false,\n      })\n    }\n  }, [])\n\n  useEffect(() => {\n    fetchUser()\n  }, [fetchUser])\n\n  const login = async (email: string, password: string) => {\n    try {\n      const response = await fetch('/api/auth/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        credentials: 'include',\n        body: JSON.stringify({ email, password }),\n      })\n      const data = await response.json()\n      if (data.ok) {\n        await fetchUser()\n        return { ok: true }\n      }\n      return { ok: false, error: data.error || 'Login failed' }\n    } catch {\n      return { ok: false, error: 'Network error' }\n    }\n  }\n\n  const register = async (email: string, password: string) => {\n    try {\n      const response = await fetch('/api/auth/register', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        credentials: 'include',\n        body: JSON.stringify({ email, password }),\n      })\n      const data = await response.json()\n      if (data.ok) {\n        await fetchUser()\n        return { ok: true }\n      }\n      return { ok: false, error: data.error || 'Registration failed' }\n    } catch {\n      return { ok: false, error: 'Network error' }\n    }\n  }\n\n  const logout = async () => {\n    try {\n      await fetch('/api/auth/logout', {\n        method: 'POST',\n        credentials: 'include',\n      })\n    } catch {\n    }\n    setState({\n      user: null,\n      isLoading: false,\n      isAuthenticated: false,\n    })\n  }\n\n  return {\n    ...state,\n    login,\n    register,\n    logout,\n    refresh: fetchUser,\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAuBO,SAAS;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAY;QAC5C,MAAM;QACN,WAAW;QACX,iBAAiB;IACnB;IAEA,MAAM,YAAY,IAAA,kHAAW,EAAC;QAC5B,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,gBAAgB;gBAC3C,aAAa;YACf;YACA,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,IAAI,KAAK,EAAE,IAAI,KAAK,IAAI,EAAE;oBACxB,SAAS;wBACP,MAAM,KAAK,IAAI;wBACf,WAAW;wBACX,iBAAiB;oBACnB;gBACF,OAAO;oBACL,SAAS;wBACP,MAAM;wBACN,WAAW;wBACX,iBAAiB;oBACnB;gBACF;YACF,OAAO;gBACL,SAAS;oBACP,MAAM;oBACN,WAAW;oBACX,iBAAiB;gBACnB;YACF;QACF,EAAE,OAAM;YACN,SAAS;gBACP,MAAM;gBACN,WAAW;gBACX,iBAAiB;YACnB;QACF;IACF,GAAG,EAAE;IAEL,IAAA,gHAAS,EAAC;QACR;IACF,GAAG;QAAC;KAAU;IAEd,MAAM,QAAQ,OAAO,OAAe;QAClC,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,mBAAmB;gBAC9C,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,aAAa;gBACb,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAO;gBAAS;YACzC;YACA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,IAAI,KAAK,EAAE,EAAE;gBACX,MAAM;gBACN,OAAO;oBAAE,IAAI;gBAAK;YACpB;YACA,OAAO;gBAAE,IAAI;gBAAO,OAAO,KAAK,KAAK,IAAI;YAAe;QAC1D,EAAE,OAAM;YACN,OAAO;gBAAE,IAAI;gBAAO,OAAO;YAAgB;QAC7C;IACF;IAEA,MAAM,WAAW,OAAO,OAAe;QACrC,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,sBAAsB;gBACjD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,aAAa;gBACb,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAO;gBAAS;YACzC;YACA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,IAAI,KAAK,EAAE,EAAE;gBACX,MAAM;gBACN,OAAO;oBAAE,IAAI;gBAAK;YACpB;YACA,OAAO;gBAAE,IAAI;gBAAO,OAAO,KAAK,KAAK,IAAI;YAAsB;QACjE,EAAE,OAAM;YACN,OAAO;gBAAE,IAAI;gBAAO,OAAO;YAAgB;QAC7C;IACF;IAEA,MAAM,SAAS;QACb,IAAI;YACF,MAAM,MAAM,oBAAoB;gBAC9B,QAAQ;gBACR,aAAa;YACf;QACF,EAAE,OAAM,CACR;QACA,SAAS;YACP,MAAM;YACN,WAAW;YACX,iBAAiB;QACnB;IACF;IAEA,OAAO;QACL,GAAG,KAAK;QACR;QACA;QACA;QACA,SAAS;IACX;AACF"}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/translations.ts"],"sourcesContent":["export type Language = 'en' | 'tr'\n\nexport const translations = {\n  en: {\n    appName: 'BizKit AI',\n    login: 'Log in',\n    logout: 'Log out',\n    admin: 'Admin',\n    history: 'History',\n    loading: 'Loading...',\n    generate: 'Generate',\n    generating: 'Generating...',\n    regenerate: 'Regenerate',\n    copy: 'Copy',\n    copied: 'Copied!',\n    export: 'Export',\n    exportTxt: 'Export as TXT',\n    exportPdf: 'Export as PDF',\n    exportDocx: 'Export as DOCX',\n    advancedOptions: 'Advanced Options',\n    hideAdvanced: 'Hide Advanced',\n    \n    // Auth Modal\n    welcomeBack: 'Welcome Back',\n    createAccount: 'Create Account',\n    loginAccess: 'Log in to access unlimited generations',\n    registerAccess: 'Register for free unlimited access',\n    email: 'Email',\n    password: 'Password',\n    emailPlaceholder: 'your@email.com',\n    passwordPlaceholder: 'Enter password',\n    pleaseWait: 'Please wait...',\n    noAccount: \"Don't have an account? Register\",\n    hasAccount: 'Already have an account? Log in',\n    cancel: 'Cancel',\n    freeTrialUsed: 'Your free trial is used. Register or log in for unlimited access.',\n    \n    // Subscription Modal\n    freeTrialTitle: 'Free Trial Used',\n    freeTrialMessage: \"You've used your free generation. Subscribe to unlock unlimited access to all content generation tools.\",\n    signInFirst: 'Please sign in first to subscribe:',\n    signInReplit: 'Sign In with Replit',\n    contactSubscribe: 'Contact to Subscribe',\n    maybeLater: 'Maybe Later',\n    \n    // Tabs\n    coldEmail: 'Cold Email',\n    proposal: 'Proposal',\n    contract: 'Contract',\n    socialPack: 'Social Pack',\n    \n    // Cold Email Form\n    targetAudience: 'Target Audience',\n    targetPlaceholder: 'e.g., Tech startups, Real estate agents',\n    serviceOffered: 'Service Offered',\n    servicePlaceholder: 'e.g., Web development, Marketing consulting',\n    tone: 'Tone',\n    tonePlaceholder: 'e.g., Professional, Friendly, Casual',\n    language: 'Language',\n    \n    // Proposal Form\n    clientType: 'Client Type',\n    clientTypePlaceholder: 'e.g., Small business, Enterprise, Startup',\n    projectScope: 'Project Scope',\n    projectScopePlaceholder: 'Describe the project scope...',\n    deliverables: 'Deliverables',\n    deliverablesPlaceholder: 'List main deliverables...',\n    budgetRange: 'Budget Range',\n    budgetPlaceholder: 'e.g., $5,000-$10,000',\n    \n    // Contract Form\n    clientName: 'Client Name',\n    clientNamePlaceholder: 'Full legal name of client',\n    providerName: 'Provider Name (You)',\n    providerPlaceholder: 'Your business name',\n    serviceDescription: 'Service Description',\n    serviceDescPlaceholder: 'Describe services to be provided...',\n    paymentTerms: 'Payment Terms',\n    paymentPlaceholder: 'e.g., 50% upfront, 50% on completion',\n    jurisdiction: 'Jurisdiction',\n    jurisdictionPlaceholder: 'e.g., California, USA',\n    \n    // Social Pack Form\n    businessType: 'Business Type',\n    businessPlaceholder: 'e.g., Restaurant, SaaS, E-commerce',\n    niche: 'Niche',\n    nichePlaceholder: 'e.g., Vegan food, Project management',\n    platform: 'Platform',\n    platformPlaceholder: 'e.g., Instagram, LinkedIn, Twitter',\n    \n    // Premium Options\n    aiModel: 'AI Model',\n    outputLength: 'Output Length',\n    short: 'Short',\n    standard: 'Standard',\n    detailed: 'Detailed',\n    creativity: 'Creativity',\n    customInstructions: 'Custom Instructions',\n    customPlaceholder: 'Add any specific requirements...',\n    \n    // History\n    generationHistory: 'Generation History',\n    noHistory: 'No generations yet. Create your first content!',\n    load: 'Load',\n    delete: 'Delete',\n    \n    // Credits\n    credits: 'Credits',\n    creditsLeft: 'credits left',\n    buyCredits: 'Buy Credits',\n    unlimitedCredits: 'Unlimited',\n    \n    // Beta badge\n    betaBadge: 'Free beta – Pro plans coming soon',\n    \n    // Footer\n    footer: 'BizKit AI – Beta v1.0',\n    \n    // Errors\n    networkError: 'Network error. Please check your connection and try again.',\n    apiKeyError: 'OpenAI API key is not configured. Please add your API key.',\n    generationError: 'An error occurred while generating content. Please try again.',\n  },\n  tr: {\n    appName: 'BizKit AI',\n    login: 'Giriş Yap',\n    logout: 'Çıkış Yap',\n    admin: 'Yönetici',\n    history: 'Geçmiş',\n    loading: 'Yükleniyor...',\n    generate: 'Oluştur',\n    generating: 'Oluşturuluyor...',\n    regenerate: 'Yeniden Oluştur',\n    copy: 'Kopyala',\n    copied: 'Kopyalandı!',\n    export: 'Dışa Aktar',\n    exportTxt: 'TXT olarak kaydet',\n    exportPdf: 'PDF olarak kaydet',\n    exportDocx: 'DOCX olarak kaydet',\n    advancedOptions: 'Gelişmiş Seçenekler',\n    hideAdvanced: 'Gizle',\n    \n    // Auth Modal\n    welcomeBack: 'Tekrar Hoş Geldiniz',\n    createAccount: 'Hesap Oluştur',\n    loginAccess: 'Sınırsız içerik oluşturmak için giriş yapın',\n    registerAccess: 'Ücretsiz sınırsız erişim için kayıt olun',\n    email: 'E-posta',\n    password: 'Şifre',\n    emailPlaceholder: 'ornek@email.com',\n    passwordPlaceholder: 'Şifrenizi girin',\n    pleaseWait: 'Lütfen bekleyin...',\n    noAccount: 'Hesabınız yok mu? Kayıt olun',\n    hasAccount: 'Zaten hesabınız var mı? Giriş yapın',\n    cancel: 'İptal',\n    freeTrialUsed: 'Ücretsiz denemeniz kullanıldı. Sınırsız erişim için kayıt olun veya giriş yapın.',\n    \n    // Subscription Modal\n    freeTrialTitle: 'Ücretsiz Deneme Kullanıldı',\n    freeTrialMessage: 'Ücretsiz içerik oluşturma hakkınızı kullandınız. Tüm araçlara sınırsız erişim için abone olun.',\n    signInFirst: 'Abone olmak için önce giriş yapın:',\n    signInReplit: 'Replit ile Giriş Yap',\n    contactSubscribe: 'Abonelik için İletişim',\n    maybeLater: 'Daha Sonra',\n    \n    // Tabs\n    coldEmail: 'Soğuk E-posta',\n    proposal: 'Teklif',\n    contract: 'Sözleşme',\n    socialPack: 'Sosyal Medya',\n    \n    // Cold Email Form\n    targetAudience: 'Hedef Kitle',\n    targetPlaceholder: 'örn. Teknoloji girişimleri, Emlak danışmanları',\n    serviceOffered: 'Sunulan Hizmet',\n    servicePlaceholder: 'örn. Web geliştirme, Pazarlama danışmanlığı',\n    tone: 'Üslup',\n    tonePlaceholder: 'örn. Profesyonel, Samimi, Resmi',\n    language: 'Dil',\n    \n    // Proposal Form\n    clientType: 'Müşteri Tipi',\n    clientTypePlaceholder: 'örn. Küçük işletme, Kurumsal, Startup',\n    projectScope: 'Proje Kapsamı',\n    projectScopePlaceholder: 'Proje kapsamını açıklayın...',\n    deliverables: 'Teslim Edilecekler',\n    deliverablesPlaceholder: 'Ana teslim edilecekleri listeleyin...',\n    budgetRange: 'Bütçe Aralığı',\n    budgetPlaceholder: 'örn. 50.000₺-100.000₺',\n    \n    // Contract Form\n    clientName: 'Müşteri Adı',\n    clientNamePlaceholder: 'Müşterinin tam yasal adı',\n    providerName: 'Sağlayıcı Adı (Siz)',\n    providerPlaceholder: 'İşletme adınız',\n    serviceDescription: 'Hizmet Açıklaması',\n    serviceDescPlaceholder: 'Sağlanacak hizmetleri açıklayın...',\n    paymentTerms: 'Ödeme Koşulları',\n    paymentPlaceholder: 'örn. %50 peşin, %50 teslimde',\n    jurisdiction: 'Yetki Alanı',\n    jurisdictionPlaceholder: 'örn. İstanbul, Türkiye',\n    \n    // Social Pack Form\n    businessType: 'İşletme Türü',\n    businessPlaceholder: 'örn. Restoran, SaaS, E-ticaret',\n    niche: 'Niş',\n    nichePlaceholder: 'örn. Vegan yemek, Proje yönetimi',\n    platform: 'Platform',\n    platformPlaceholder: 'örn. Instagram, LinkedIn, Twitter',\n    \n    // Premium Options\n    aiModel: 'Yapay Zeka Modeli',\n    outputLength: 'Çıktı Uzunluğu',\n    short: 'Kısa',\n    standard: 'Standart',\n    detailed: 'Detaylı',\n    creativity: 'Yaratıcılık',\n    customInstructions: 'Özel Talimatlar',\n    customPlaceholder: 'Özel gereksinimlerinizi ekleyin...',\n    \n    // History\n    generationHistory: 'Oluşturma Geçmişi',\n    noHistory: 'Henüz içerik yok. İlk içeriğinizi oluşturun!',\n    load: 'Yükle',\n    delete: 'Sil',\n    \n    // Credits\n    credits: 'Kredi',\n    creditsLeft: 'kredi kaldı',\n    buyCredits: 'Kredi Satın Al',\n    unlimitedCredits: 'Sınırsız',\n    \n    // Beta badge\n    betaBadge: 'Ücretsiz beta – Pro planlar yakında',\n    \n    // Footer\n    footer: 'BizKit AI – Beta v1.0',\n    \n    // Errors\n    networkError: 'Ağ hatası. Lütfen bağlantınızı kontrol edip tekrar deneyin.',\n    apiKeyError: 'OpenAI API anahtarı yapılandırılmamış. Lütfen API anahtarınızı ekleyin.',\n    generationError: 'İçerik oluşturulurken bir hata oluştu. Lütfen tekrar deneyin.',\n  },\n}\n\nexport function getTranslation(lang: Language) {\n  return translations[lang]\n}\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,eAAe;IAC1B,IAAI;QACF,SAAS;QACT,OAAO;QACP,QAAQ;QACR,OAAO;QACP,SAAS;QACT,SAAS;QACT,UAAU;QACV,YAAY;QACZ,YAAY;QACZ,MAAM;QACN,QAAQ;QACR,QAAQ;QACR,WAAW;QACX,WAAW;QACX,YAAY;QACZ,iBAAiB;QACjB,cAAc;QAEd,aAAa;QACb,aAAa;QACb,eAAe;QACf,aAAa;QACb,gBAAgB;QAChB,OAAO;QACP,UAAU;QACV,kBAAkB;QAClB,qBAAqB;QACrB,YAAY;QACZ,WAAW;QACX,YAAY;QACZ,QAAQ;QACR,eAAe;QAEf,qBAAqB;QACrB,gBAAgB;QAChB,kBAAkB;QAClB,aAAa;QACb,cAAc;QACd,kBAAkB;QAClB,YAAY;QAEZ,OAAO;QACP,WAAW;QACX,UAAU;QACV,UAAU;QACV,YAAY;QAEZ,kBAAkB;QAClB,gBAAgB;QAChB,mBAAmB;QACnB,gBAAgB;QAChB,oBAAoB;QACpB,MAAM;QACN,iBAAiB;QACjB,UAAU;QAEV,gBAAgB;QAChB,YAAY;QACZ,uBAAuB;QACvB,cAAc;QACd,yBAAyB;QACzB,cAAc;QACd,yBAAyB;QACzB,aAAa;QACb,mBAAmB;QAEnB,gBAAgB;QAChB,YAAY;QACZ,uBAAuB;QACvB,cAAc;QACd,qBAAqB;QACrB,oBAAoB;QACpB,wBAAwB;QACxB,cAAc;QACd,oBAAoB;QACpB,cAAc;QACd,yBAAyB;QAEzB,mBAAmB;QACnB,cAAc;QACd,qBAAqB;QACrB,OAAO;QACP,kBAAkB;QAClB,UAAU;QACV,qBAAqB;QAErB,kBAAkB;QAClB,SAAS;QACT,cAAc;QACd,OAAO;QACP,UAAU;QACV,UAAU;QACV,YAAY;QACZ,oBAAoB;QACpB,mBAAmB;QAEnB,UAAU;QACV,mBAAmB;QACnB,WAAW;QACX,MAAM;QACN,QAAQ;QAER,UAAU;QACV,SAAS;QACT,aAAa;QACb,YAAY;QACZ,kBAAkB;QAElB,aAAa;QACb,WAAW;QAEX,SAAS;QACT,QAAQ;QAER,SAAS;QACT,cAAc;QACd,aAAa;QACb,iBAAiB;IACnB;IACA,IAAI;QACF,SAAS;QACT,OAAO;QACP,QAAQ;QACR,OAAO;QACP,SAAS;QACT,SAAS;QACT,UAAU;QACV,YAAY;QACZ,YAAY;QACZ,MAAM;QACN,QAAQ;QACR,QAAQ;QACR,WAAW;QACX,WAAW;QACX,YAAY;QACZ,iBAAiB;QACjB,cAAc;QAEd,aAAa;QACb,aAAa;QACb,eAAe;QACf,aAAa;QACb,gBAAgB;QAChB,OAAO;QACP,UAAU;QACV,kBAAkB;QAClB,qBAAqB;QACrB,YAAY;QACZ,WAAW;QACX,YAAY;QACZ,QAAQ;QACR,eAAe;QAEf,qBAAqB;QACrB,gBAAgB;QAChB,kBAAkB;QAClB,aAAa;QACb,cAAc;QACd,kBAAkB;QAClB,YAAY;QAEZ,OAAO;QACP,WAAW;QACX,UAAU;QACV,UAAU;QACV,YAAY;QAEZ,kBAAkB;QAClB,gBAAgB;QAChB,mBAAmB;QACnB,gBAAgB;QAChB,oBAAoB;QACpB,MAAM;QACN,iBAAiB;QACjB,UAAU;QAEV,gBAAgB;QAChB,YAAY;QACZ,uBAAuB;QACvB,cAAc;QACd,yBAAyB;QACzB,cAAc;QACd,yBAAyB;QACzB,aAAa;QACb,mBAAmB;QAEnB,gBAAgB;QAChB,YAAY;QACZ,uBAAuB;QACvB,cAAc;QACd,qBAAqB;QACrB,oBAAoB;QACpB,wBAAwB;QACxB,cAAc;QACd,oBAAoB;QACpB,cAAc;QACd,yBAAyB;QAEzB,mBAAmB;QACnB,cAAc;QACd,qBAAqB;QACrB,OAAO;QACP,kBAAkB;QAClB,UAAU;QACV,qBAAqB;QAErB,kBAAkB;QAClB,SAAS;QACT,cAAc;QACd,OAAO;QACP,UAAU;QACV,UAAU;QACV,YAAY;QACZ,oBAAoB;QACpB,mBAAmB;QAEnB,UAAU;QACV,mBAAmB;QACnB,WAAW;QACX,MAAM;QACN,QAAQ;QAER,UAAU;QACV,SAAS;QACT,aAAa;QACb,YAAY;QACZ,kBAAkB;QAElB,aAAa;QACb,WAAW;QAEX,SAAS;QACT,QAAQ;QAER,SAAS;QACT,cAAc;QACd,aAAa;QACb,iBAAiB;IACnB;AACF;AAEO,SAAS,eAAe,IAAc;IAC3C,OAAO,YAAY,CAAC,KAAK;AAC3B"}},
    {"offset": {"line": 372, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/pages/buy-credits.tsx"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport Head from 'next/head'\nimport { useAuth } from '../hooks/useAuth'\nimport { translations, type Language } from '../lib/translations'\n\ninterface CreditPackage {\n  id: string\n  credits: number\n  price: number\n  name: string\n  popular?: boolean\n}\n\nconst CREDIT_PACKAGES: CreditPackage[] = [\n  { id: 'credits_10', credits: 10, price: 500, name: '10 Credits' },\n  { id: 'credits_50', credits: 50, price: 2000, name: '50 Credits', popular: true },\n  { id: 'credits_100', credits: 100, price: 3500, name: '100 Credits' },\n]\n\nexport default function BuyCredits() {\n  const { user, isLoading, isAuthenticated, refresh } = useAuth()\n  const [lang, setLang] = useState<Language>('en')\n  const [purchasing, setPurchasing] = useState<string | null>(null)\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null)\n\n  useEffect(() => {\n    const savedLang = localStorage.getItem('bizkit_lang') as Language\n    if (savedLang && (savedLang === 'en' || savedLang === 'tr')) {\n      setLang(savedLang)\n    }\n  }, [])\n\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search)\n    if (params.get('success') === 'true') {\n      setMessage({ type: 'success', text: lang === 'tr' ? 'Krediler hesabiniza eklendi!' : 'Credits have been added to your account!' })\n      refresh()\n      window.history.replaceState({}, '', '/buy-credits')\n    } else if (params.get('canceled') === 'true') {\n      setMessage({ type: 'error', text: lang === 'tr' ? 'Odeme iptal edildi.' : 'Payment was canceled.' })\n      window.history.replaceState({}, '', '/buy-credits')\n    }\n  }, [lang, refresh])\n\n  const t = translations[lang]\n\n  const handlePurchase = async (packageId: string) => {\n    setPurchasing(packageId)\n    setMessage(null)\n\n    try {\n      const response = await fetch('/api/stripe/create-checkout', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Cache-Control': 'no-cache',\n          'Pragma': 'no-cache',\n        },\n        credentials: 'include',\n        cache: 'no-store',\n        body: JSON.stringify({ packageId }),\n      })\n\n      if (!response.ok) {\n        const text = await response.text().catch(() => '')\n        console.error('Checkout error:', response.status, text)\n        setMessage({ type: 'error', text: 'Failed to create checkout session' })\n        return\n      }\n\n      const data = await response.json()\n\n      if (!data || !data.url) {\n        console.error('No checkout URL returned:', data)\n        setMessage({ type: 'error', text: data.error || 'Failed to create checkout session' })\n        return\n      }\n\n      window.location.href = data.url\n    } catch (error) {\n      console.error('Checkout request failed:', error)\n      setMessage({ type: 'error', text: 'Network error. Please try again.' })\n    } finally {\n      setPurchasing(null)\n    }\n  }\n\n  if (isLoading) {\n    return (\n      <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: '100vh' }}>\n        <div style={{ fontSize: '1rem', color: 'rgb(100, 116, 139)' }}>{t.loading}</div>\n      </div>\n    )\n  }\n\n  if (!isAuthenticated) {\n    return (\n      <div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center', minHeight: '100vh', padding: '20px' }}>\n        <Head>\n          <title>Buy Credits - BizKit AI</title>\n        </Head>\n        <h1 style={{ fontSize: '1.5rem', fontWeight: 600, marginBottom: '16px', color: 'rgb(15, 23, 42)' }}>\n          {lang === 'tr' ? 'Giris Yapmaniz Gerekiyor' : 'Please Log In'}\n        </h1>\n        <p style={{ fontSize: '1rem', color: 'rgb(100, 116, 139)', marginBottom: '24px' }}>\n          {lang === 'tr' ? 'Kredi satin almak icin giris yapmaniz gerekiyor.' : 'You need to log in to purchase credits.'}\n        </p>\n        <button\n          onClick={() => window.location.href = '/'}\n          style={{\n            padding: '12px 24px',\n            fontSize: '1rem',\n            fontWeight: 500,\n            color: 'white',\n            backgroundColor: 'rgb(99, 102, 241)',\n            border: 'none',\n            borderRadius: '8px',\n            cursor: 'pointer',\n          }}\n          data-testid=\"button-go-home\"\n        >\n          {lang === 'tr' ? 'Ana Sayfaya Don' : 'Go to Home'}\n        </button>\n      </div>\n    )\n  }\n\n  return (\n    <div style={{ minHeight: '100vh', backgroundColor: 'rgb(248, 250, 252)' }}>\n      <Head>\n        <title>Buy Credits - BizKit AI</title>\n        <meta name=\"description\" content=\"Purchase credits for BizKit AI content generation\" />\n      </Head>\n\n      <nav\n        style={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          padding: '12px 24px',\n          backgroundColor: 'white',\n          borderBottom: '1px solid rgb(226, 232, 240)',\n        }}\n      >\n        <a href=\"/\" style={{ fontWeight: 600, fontSize: '1.125rem', color: 'rgb(15, 23, 42)', textDecoration: 'none' }}>\n          BizKit AI\n        </a>\n        <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\n          <span style={{ fontSize: '0.875rem', color: 'rgb(51, 65, 85)' }}>\n            {user?.email}\n          </span>\n          <span style={{ fontSize: '0.875rem', color: 'rgb(100, 116, 139)', backgroundColor: 'rgb(241, 245, 249)', padding: '4px 12px', borderRadius: '20px' }}>\n            {user?.credits ?? 0} {t.creditsLeft}\n          </span>\n        </div>\n      </nav>\n\n      <main style={{ maxWidth: '900px', margin: '0 auto', padding: '48px 24px' }}>\n        <div style={{ textAlign: 'center', marginBottom: '48px' }}>\n          <h1 style={{ fontSize: '2rem', fontWeight: 700, color: 'rgb(15, 23, 42)', marginBottom: '12px' }}>\n            {t.buyCredits}\n          </h1>\n          <p style={{ fontSize: '1.125rem', color: 'rgb(100, 116, 139)' }}>\n            {lang === 'tr' ? 'Icerlik olusturmak icin kredi satin alin' : 'Purchase credits to generate content'}\n          </p>\n        </div>\n\n        {message && (\n          <div\n            style={{\n              padding: '16px',\n              marginBottom: '24px',\n              borderRadius: '8px',\n              backgroundColor: message.type === 'success' ? 'rgb(220, 252, 231)' : 'rgb(254, 226, 226)',\n              color: message.type === 'success' ? 'rgb(22, 101, 52)' : 'rgb(153, 27, 27)',\n              textAlign: 'center',\n            }}\n            data-testid=\"message-status\"\n          >\n            {message.text}\n          </div>\n        )}\n\n        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(260px, 1fr))', gap: '24px' }}>\n          {CREDIT_PACKAGES.map((pkg) => (\n            <div\n              key={pkg.id}\n              style={{\n                position: 'relative',\n                backgroundColor: 'white',\n                borderRadius: '12px',\n                padding: '32px 24px',\n                boxShadow: pkg.popular ? '0 4px 20px rgba(99, 102, 241, 0.15)' : '0 1px 3px rgba(0, 0, 0, 0.1)',\n                border: pkg.popular ? '2px solid rgb(99, 102, 241)' : '1px solid rgb(226, 232, 240)',\n                textAlign: 'center',\n              }}\n              data-testid={`card-package-${pkg.id}`}\n            >\n              {pkg.popular && (\n                <div\n                  style={{\n                    position: 'absolute',\n                    top: '-12px',\n                    left: '50%',\n                    transform: 'translateX(-50%)',\n                    backgroundColor: 'rgb(99, 102, 241)',\n                    color: 'white',\n                    padding: '4px 16px',\n                    borderRadius: '20px',\n                    fontSize: '0.75rem',\n                    fontWeight: 600,\n                  }}\n                >\n                  {lang === 'tr' ? 'En Populer' : 'Most Popular'}\n                </div>\n              )}\n\n              <h3 style={{ fontSize: '1.25rem', fontWeight: 600, color: 'rgb(15, 23, 42)', marginBottom: '8px' }}>\n                {pkg.name}\n              </h3>\n\n              <div style={{ fontSize: '2.5rem', fontWeight: 700, color: 'rgb(99, 102, 241)', marginBottom: '8px' }}>\n                ${(pkg.price / 100).toFixed(2)}\n              </div>\n\n              <p style={{ fontSize: '0.875rem', color: 'rgb(100, 116, 139)', marginBottom: '24px' }}>\n                ${((pkg.price / 100) / pkg.credits).toFixed(2)} {lang === 'tr' ? 'kredi basina' : 'per credit'}\n              </p>\n\n              <button\n                onClick={() => handlePurchase(pkg.id)}\n                disabled={purchasing !== null}\n                style={{\n                  width: '100%',\n                  padding: '12px 24px',\n                  fontSize: '1rem',\n                  fontWeight: 600,\n                  color: 'white',\n                  backgroundColor: purchasing === pkg.id ? 'rgb(148, 163, 184)' : 'rgb(99, 102, 241)',\n                  border: 'none',\n                  borderRadius: '8px',\n                  cursor: purchasing !== null ? 'not-allowed' : 'pointer',\n                  transition: 'background-color 0.2s',\n                }}\n                data-testid={`button-buy-${pkg.id}`}\n              >\n                {purchasing === pkg.id ? (lang === 'tr' ? 'Yukleniyor...' : 'Loading...') : (lang === 'tr' ? 'Satin Al' : 'Buy Now')}\n              </button>\n            </div>\n          ))}\n        </div>\n\n        <div style={{ textAlign: 'center', marginTop: '48px' }}>\n          <a\n            href=\"/\"\n            style={{\n              fontSize: '0.875rem',\n              color: 'rgb(99, 102, 241)',\n              textDecoration: 'none',\n            }}\n            data-testid=\"link-back-home\"\n          >\n            {lang === 'tr' ? 'Ana Sayfaya Don' : 'Back to Home'}\n          </a>\n        </div>\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}